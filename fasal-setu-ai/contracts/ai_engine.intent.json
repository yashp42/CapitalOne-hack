{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "ActIntent",
	"type": "object",
	"properties": {
		"intent": { "type": "string", "description": "High-level intent label (e.g. 'irrigation_decision', 'variety_selection', etc.)" },
		"decision_template": { "type": "string", "description": "Template or type of decision to be made (e.g. 'irrigation_now_or_wait', 'sell_or_hold', etc.)" },
		"missing": {
			"type": "array",
			"items": { "type": "string" },
			"description": "List of missing fields required to proceed (e.g. 'crop', 'sowing_date'). Optional."
		},
		"tool_calls": {
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"tool": {
						"type": "string",
						"enum": [
							"weather_outlook",
							"prices_fetch",
                                                        "calendar_lookup",
                                                        "variety_lookup",
                                                        "policy_match",
                                                        "pesticide_lookup",
                                                        "storage_find",
                                                        "rag_search",
                                                        "soil_api",
                                                        "web_search"
                                                ]
                                        },
					"args": { "type": "object" }
				},
				"required": ["tool", "args"]
			},
			"description": "List of tool calls with tool name and arguments."
		},
		"facts": {
			"type": "object",
			"description": "Flat object for tool outputs, keyed by tool name or fact type. Optional."
		}
	},
	"required": ["intent", "decision_template", "tool_calls"],
	"additionalProperties": false
}
